<?php $this->load->view('common/header'); ?>
<style type="text/css">
    .box2 {
    background-color: rgba(0,0,0,.5);
    color: #fff;
    font-family: sans-serif;
    font-size: 18px;
}
</style>
<section class="banner" id="hero">
    <div class="row">

   <div id="carouselExampleFade" class="carousel slide carousel-fade" data-bs-ride="carousel">
    <ol class="carousel-indicators">
        <li data-bs-target="#carouselExampleFade" data-bs-slide-to="0" class="active"></li>
        <li data-bs-target="#carouselExampleFade" data-bs-slide-to="1"></li>
        <li data-bs-target="#carouselExampleFade" data-bs-slide-to="2"></li>
        <li data-bs-target="#carouselExampleFade" data-bs-slide-to="3"></li>
        <li data-bs-target="#carouselExampleFade" data-bs-slide-to="4"></li>
        <li data-bs-target="#carouselExampleFade" data-bs-slide-to="5"></li>
    </ol>

  <div class="carousel-inner">

    <div class="carousel-item active">
      <img src="<?= IMAGE_URL.'/banner/01_Banner.jpg'; ?>" class="d-block w-100 banner-img" alt="...">
        <div class="carousel-caption d-none d-md-block">
        <a href="#"><p class="card-body box2">
        <i class="fa fa-copyright" aria-hidden="true"></i> Vineeth Kartha <i>Lycosidae sp. </i> (wolf spider) vazhoor, Kerala</p></a></div>
          <div class="banner-text">
                    <h1 style="color: white;">Welcome to IBIS.</h1>
                    <p>A free and open reserve of scientific information about all forms of life on the Indian subcontinent! IBIS provides anyone, anywhere instant access to Indian flora and fauna in a user-friendly format.</p>                   
                </div> 
    </div>
    <div class="carousel-item">
      <img src="<?= IMAGE_URL.'/banner/02_Banner.jpg'; ?>" class="d-block w-100 banner-img" alt="...">
       <div class="carousel-caption d-none d-md-block">
                       <a href="#"> <p class="card-body box2"><i class="fa fa-copyright" aria-hidden="true"></i> Akshay Shinde <i>Epicauta sp. </i> (Blister Beetle) Khadpoli, chiplun, Maharashtra</p></a></div>
                         <div class="banner-text">
                    <h1 style="color: white;">Welcome to IBIS.</h1>
                    <p>A free and open reserve of scientific information about all forms of life on the Indian subcontinent! IBIS provides anyone, anywhere instant access to Indian flora and fauna in a user-friendly format.</p>                   
                </div> 
    </div>
    <div class="carousel-item">
      <img src="<?= IMAGE_URL.'/banner/C19_1936.jpg'; ?>" class="d-block w-100 banner-img" alt="...">
      <div class="carousel-caption d-none d-md-block">
                        <a href="#"><p class="card-body box2"><i class="fa fa-copyright" aria-hidden="true"></i> Akshay Shinde <i>Goniobranchus trimarginatus</i> (Trimarginate Sea Slug) Haji Ali, Mumbai</p></a></div>
                          <div class="banner-text">
                    <h1 style="color: white;">Welcome to IBIS.</h1>
                    <p>A free and open reserve of scientific information about all forms of life on the Indian subcontinent! IBIS provides anyone, anywhere instant access to Indian flora and fauna in a user-friendly format.</p>                   
                </div> 
    </div>
    <div class="carousel-item">
      <img src="<?= IMAGE_URL.'/banner/04_Banner.jpg'; ?>" class="d-block w-100 banner-img" alt="...">
      <div class="carousel-caption d-none d-md-block">
                        <a href="#"><p class="card-body box2"><i class="fa fa-copyright" aria-hidden="true"></i> Sandeep Das <i>Ahaetulla perroteti</i> (Perrotet's vine snake) Red Hills</p></a></div>
                          <div class="banner-text">
                    <h1 style="color: white;">Welcome to IBIS.</h1>
                    <p>A free and open reserve of scientific information about all forms of life on the Indian subcontinent! IBIS provides anyone, anywhere instant access to Indian flora and fauna in a user-friendly format.</p>                   
                </div> 
    </div>
    <div class="carousel-item">
      <img src="<?= IMAGE_URL.'/banner/DSC3256.jpg'; ?>" class="d-block w-100 banner-img" alt="...">
      <div class="carousel-caption d-none d-md-block">
                        <a><p class="card-body box2"><i class="fa fa-copyright" aria-hidden="true"></i> Kaushal Patel <i>Panthera tigris</i> (Bengal Tiger) Ranthambore Tiger Reserve</p></a></div> 
                          <div class="banner-text">
                    <h1 style="color: white;">Welcome to IBIS.</h1>
                    <p>A free and open reserve of scientific information about all forms of life on the Indian subcontinent! IBIS provides anyone, anywhere instant access to Indian flora and fauna in a user-friendly format.</p>                   
                </div>   
    </div>
    <div class="carousel-item">
      <img src="<?= IMAGE_URL.'/banner/06_Banner.jpg'; ?>" class="d-block w-100 banner-img" alt="...">
      <div class="carousel-caption d-none d-md-block">
                        <a><p class="card-body box2"><i class="fa fa-copyright" aria-hidden="true"></i> Mahek Vyas <i>Trimeresurus Popeiorum</i> (Pope's Pit Viper) Mizoram</p></a></div>
                          <div class="banner-text">
                    <h1 style="color: white;">Welcome to IBIS.</h1>
                    <p>A free and open reserve of scientific information about all forms of life on the Indian subcontinent! IBIS provides anyone, anywhere instant access to Indian flora and fauna in a user-friendly format.</p>                   
                </div> 
                    </div>   
    </div>
     
    </div> 
</div>       
    </section>
    <!-- End Hero -->
    <main id="main">
        <!-- ======= About Section ======= -->
        <section id="about" class="about">
            <div class="container">
                <div class="row">
                    <div class="col-xl-5 col-lg-6 d-flex justify-content-lg-end align-items-stretch position-relative p-4 px-lg-5">
                        <h1 class="text-underline text-800">About IBIS</h1>
                    </div>

                    <div class="col-xl-7 col-lg-6 icon-boxes d-flex flex-column align-items-stretch justify-content-center p-4 px-lg-5" style="text-align: justify;">
                        <p>Indian Biodiversity Information System (IBIS) is a free and open reserve of comprehensive 
scientific information about all plant and animal lifeforms on the Indian subcontinent. IBIS 
provides anyone, anywhere instant access to data on Indian flora and fauna in a user-friendly, 
freely accessible format. An initiative of Foundation for Ecological Security (FES), the IBIS 
portal is modelled on the concept of citizen science. </p>
                        <p> 
IBIS provides authenticated and simplified data about Indian biodiversity for anyone who needs 
it. IBIS collates extensive volumes of biodiversity data through varied channels, including 
contributions from the citizen scientists, hobbyists, naturalists, academic researchers, and even 
other citizen-science portals. After reviews, verifications, and analyses by experienced biologists, 
the portal showcases data in a structured, intuitive, and interactive fashion.</p>
<p>It is the mission of IBIS to foster greater public engagement in science, while supporting 
scientists and community members develop robust strategies for biodiversity conservation and 
wildlife protection efforts. Moreover, IBIS aspires to equip local communities with the power of 
information, so that they can manage land and water resources more efficiently, thereby 
conserving traditional nature-centric lives and livelihoods. Further, IBIS aims to highlight the 
social value of biodiversity and promote public engagement and understanding of it, thus paving 
way for greater democratisation of science.</p>
                    </div>
                </div>
            </div>
        </section><!-- End About Section -->
        <style>
* {box-sizing: border-box;}

.work_gallery_item {
  position: relative;
  /*width: 50%;*/
  max-width: 300px;
}

.image {
  display: block;
  width: 100%;
  height: auto;
}

.overlay {
  position: absolute; 
  bottom: 8px; 
  background: rgb(0, 0, 0);
  background: rgba(0, 0, 0, 0.5); /* Black see-through */
  color: #f1f1f1; 
  width: 89%;
  transition: .5s ease;
  opacity:0;
  color: white;
  font-size: 12px;
  padding: 20px;
  text-align: center;
  border-radius:14%;
}

.work_gallery_item:hover .overlay {
  opacity: 1;
}
.cv-spinner {
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;  
}
.spinner {
  width: 40px;
  height: 40px;
  border: 4px #ddd solid;
  border-top: 4px #2e93e6 solid;
  border-radius: 50%;
  animation: sp-anime 0.8s infinite linear;
}
@keyframes sp-anime {
  100% { 
    transform: rotate(360deg); 
  }
}
.is-hide{
  display:none;
}
</style>
        <section id="how-it-works" class="how-it-works">
            <div class="container">
                <div class="row">
                    <div class="col-lg-5 work_gallery">
                        <div class="row justify-content-evenly">
                            <div class="work_gallery_item col-6 col-sm-4 col-xl-4">
                                <img src="<?= IMAGE_URL.'/gallery/01homepre-logindesktop-1638864622-raorchestes-resplendens-copy-E1F4D637-ED08-4D29-AC79-7767E2FF6AEB.jpg'; ?>" class="work_gallery_img" alt="gallery-img-1">
                                <div class="overlay"><i class="fa fa-copyright" aria-hidden="true"></i>
Sandeep Das</div>
                            </div>
                            <div class="work_gallery_item col-5 col-sm-4 col-xl-4">
                                <img src="<?= IMAGE_URL.'/gallery/01.png'; ?>" class="work_gallery_img" alt="gallery-img-2">
                                <div class="overlay"><i class="fa fa-copyright" aria-hidden="true"></i>
Sandeep Das</div>
                            </div>
                            <div class="work_gallery_item col-6 col-sm-4 col-xl-4">
                                <img src="<?= IMAGE_URL.'/gallery/02.png'; ?>" class="work_gallery_img" alt="gallery-img-3">
                                <div class="overlay"><i class="fa fa-copyright" aria-hidden="true"></i>
Akshay Shinde</div>
                            </div>
                            <div class="work_gallery_item col-6 col-sm-4 col-xl-4">
                                <img src="<?= IMAGE_URL.'/gallery/03.png'; ?>" class="work_gallery_img" alt="gallery-img-4">
                                <div class="overlay"><i class="fa fa-copyright" aria-hidden="true"></i>
Sujith</div>
                            </div>
                            <div class="work_gallery_item col-6 col-sm-4 col-xl-4">
                                <img src="<?= IMAGE_URL.'/gallery/04.png'; ?>" class="work_gallery_img" alt="gallery-img-5">
                                <div class="overlay"><i class="fa fa-copyright" aria-hidden="true"></i>
Akshay Shinde</div>
                            </div>
                            <div class="work_gallery_item col-6 col-sm-4 col-xl-4">
                                <img src="<?= IMAGE_URL.'/gallery/05.png'; ?>" class="work_gallery_img" alt="gallery-img-6">
                                <div class="overlay"><i class="fa fa-copyright" aria-hidden="true"></i>
Maitreyi</div>
                            </div>
                            <div class="work_gallery_item col-6 col-sm-4 col-xl-4">
                                <img src="<?= IMAGE_URL.'/gallery/06.png'; ?>" class="work_gallery_img" alt="gallery-img-7">
                                <div class="overlay"><i class="fa fa-copyright" aria-hidden="true"></i>
Mahek Vyas</div>
                            </div>
                            <div class="work_gallery_item col-6 col-sm-4 col-xl-4">
                                <img src="<?= IMAGE_URL.'/gallery/07.png'; ?>" class="work_gallery_img" alt="gallery-img-8">
                                <div class="overlay"><i class="fa fa-copyright" aria-hidden="true"></i>
Vincy K Wilson</div>
                            </div>
                            <div class="work_gallery_item col-6 col-sm-4 col-xl-4 d-none d-sm-block">
                                <img src="<?= IMAGE_URL.'/gallery/157.JPG'; ?>" class="work_gallery_img" alt="gallery-img-9">
                                <div class="overlay"><i class="fa fa-copyright" aria-hidden="true"></i>
Tekhe Chirhah</div>
                            </div>
                            <div class="work_gallery_item col-6 col-sm-4 col-xl-4">
                                <img src="<?= IMAGE_URL.'/gallery/111.png'; ?>" class="work_gallery_img" alt="gallery-img-7">
                                <div class="overlay"><i class="fa fa-copyright" aria-hidden="true"></i>
Akshay Shinde</div>
                            </div>
                            <div class="work_gallery_item col-6 col-sm-4 col-xl-4">
                                <img src="<?= IMAGE_URL.'/gallery/112.png'; ?>" class="work_gallery_img" alt="gallery-img-8">
                                <div class="overlay"><i class="fa fa-copyright" aria-hidden="true"></i>
Vineeth Kartha</div>
                            </div>
                            <div class="work_gallery_item col-6 col-sm-4 col-xl-4 d-none d-sm-block">
                                <img src="<?= IMAGE_URL.'/gallery/113.png'; ?>" class="work_gallery_img" alt="gallery-img-9">
                                <div class="overlay"><i class="fa fa-copyright" aria-hidden="true"></i>
Sujith</div>
                            </div>
                            <div class="work_gallery_item col-6 col-sm-4 col-xl-4">
                                <img src="<?= IMAGE_URL.'/gallery/114.png'; ?>" class="work_gallery_img" alt="gallery-img-7">
                                <div class="overlay"><i class="fa fa-copyright" aria-hidden="true"></i>
Sujith</div>
                            </div>
                            <div class="work_gallery_item col-6 col-sm-4 col-xl-4">
                                <img src="<?= IMAGE_URL.'/gallery/115.png'; ?>" class="work_gallery_img" alt="gallery-img-8">
                                <div class="overlay"><i class="fa fa-copyright" aria-hidden="true"></i>
Vineeth Kartha</div>
                            </div>
                            <div class="work_gallery_item col-6 col-sm-4 col-xl-4 d-none d-sm-block">
                                <img src="<?= IMAGE_URL.'/gallery/116.png'; ?>" class="work_gallery_img" alt="gallery-img-9">
                                <div class="overlay"><i class="fa fa-copyright" aria-hidden="true"></i>
Kaushal Patel</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-7 work_steps">
                        <h1> How it works</h1>
                        <div class="row">
                            <div class="col-md-6 work_step_item">
                                <h3>Data Repository</h3>
                                <p style="text-align: justify;">IBIS garners data from varied sources—citizens, researchers, and 
other biodiversity portals—to form a one-stop repository. Indexed 
here, you can access geo-referenced species occurrence points, 
species profiles, excerpts from studies, biodiversity reports, and 
distributional data.</p>
                            </div>
                            <div class="col-md-6 work_step_item">
                                <h3>Citizen Science</h3>
                                <p style="text-align: justify;">At the core of IBIS is You! Whoever you are: a scientist, teacher, 
naturalist, birder, community researcher, or just a citizen, IBIS is 
powered by your observations, findings, recordings, community 
research, or just personal pursuits such as hobbies.</p>

                            </div>
                            <div class="col-md-6 work_step_item">
                                <h3>Analytics</h3>
                                <p style="text-align: justify;">At IBIS, species data and layers integrated through various sources 
serve as input to the analytics section. We present data that you can 
play with—apply environmental layers, explore interactive maps of 
species of your choice, and run species distribution models.</p>

                            </div>
                            <div class="col-md-6 work_step_item">
                                <h3>Community</h3>
                                <p style="text-align: justify;">The data you contribute is invaluable for thousands of educators, 
scientists, and communities in their data-driven efforts to protect 
wildlife, revive habitats, restore commons, and safeguard indigenous 
living spaces and livelihoods. Data is the centrepin of all of that work.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ======= Counts Section ======= -->
        <section id="counts" class="counts">
            <div class="container">
                <div class="text-center title">
                    <h3>What we have achieved so far</h3>
                </div>

                <div class="row counters position-relative">
                    <div class="col-lg-3 col-6 text-center">
                        <span data-purecounter-start="0" data-purecounter-end="<?php if($TotalStatistics[0]['sp_parameter']=='Taxonomy Data') { echo $TotalStatistics[0]['sp_count']; } elseif($TotalStatistics[1]['sp_parameter']=='Taxonomy Data') { echo $TotalStatistics[1]['sp_count'];} elseif($TotalStatistics[2]['sp_parameter']=='Taxonomy Data') { echo $TotalStatistics[2]['sp_count']; } elseif($TotalStatistics[3]['sp_parameter']=='Taxonomy Data') { echo $TotalStatistics[3]['sp_count']; } else { echo 0; }?>" data-purecounter-duration="1" class="purecounter"></span>
                        <p>Occurence Data</p>
                    </div>
                    <div class="col-lg-3 col-6 text-center" >
                        <span class="purecounter" data-purecounter-start="0" data-purecounter-end="<?php if($TotalStatistics[0]['sp_parameter']=='Total Species') {  echo $TotalStatistics[0]['sp_count']; } elseif($TotalStatistics[1]['sp_parameter']=='Total Species') { echo $TotalStatistics[1]['sp_count'];} elseif($TotalStatistics[2]['sp_parameter']=='Total Species') { echo $TotalStatistics[2]['sp_count']; } elseif($TotalStatistics[3]['sp_parameter']=='Total Species') { echo $TotalStatistics[3]['sp_count']; } else { echo 0; }?>" data-purecounter-duration="1" class="purecounter"></span>
                        <p>Total Species</p>
                    </div>
                    <div class="col-lg-3 col-6 text-center">
                        <span data-purecounter-start="0" data-purecounter-end="<?php if($TotalStatistics[0]['sp_parameter']=='Total Families') { echo $TotalStatistics[0]['sp_count']; } elseif($TotalStatistics[1]['sp_parameter']=='Total Families') { echo $TotalStatistics[1]['sp_count'];} elseif($TotalStatistics[2]['sp_parameter']=='Total Families') { echo $TotalStatistics[2]['sp_count']; } elseif($TotalStatistics[3]['sp_parameter']=='Total Families') { echo $TotalStatistics[3]['sp_count']; } else { echo 0; }?>" data-purecounter-duration="1" class="purecounter"></span>
                        <p>Total Families</p>
                    </div>                    
                    <div class="col-lg-3 col-6 text-center">
                        <span data-purecounter-start="0" data-purecounter-end="<?php if($TotalStatistics[0]['sp_parameter']=='Added this week') { echo $TotalStatistics[0]['sp_count']; } elseif($TotalStatistics[1]['sp_parameter']=='Added this week') { echo $TotalStatistics[1]['sp_count'];} elseif($TotalStatistics[2]['sp_parameter']=='Added this week') { echo $TotalStatistics[2]['sp_count']; } elseif($TotalStatistics[3]['sp_parameter']=='Added this week') { echo $TotalStatistics[3]['sp_count']; } else { echo 0; }?>" data-purecounter-duration="1" class="purecounter"></span>
                        <p>Added This Week</p>
                    </div>
                    
                </div>
            </div>
        </section><!-- End Counts Section -->
        <!-- ======= Services Section ======= -->
        <section id="features" class="services section-bg">
            <div class="container">
                <div class="section-title">
                    <h2>Features</h2>
                </div>
                <div class="row justify-content-center">
                    <div class="col-lg-4 col-md-6">
                        <div class="icon-box">
                            <div class="icon"><i class="bi bi-cash-stack" style="color: #ff689b;"></i></div>
                            <h4 class="title"><a href="javascript:void(0)" data-bs-toggle="modal" data-bs-target="#loginModalS">Become a Citizen Scientist</a></h4>
<p class="description" style="text-align:justify;">IBIS community of citizen scientists hail from varied disciplines.IBIS welcomes you to 
sign up and start contributing data—location tags species citing and observations and
photographs or audio-video files. If you have the time curiosity and a scientific 
temper you can be a citizen scientist too and start contributing to IBIS.</p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6">
                        <div class="icon-box">
                            <div class="icon"><i class="bi bi-calendar4-week" style="color: #e9bf06;"></i></div>
                            <h4 class="title"><a href="<?= site_url('DataPlayground');?>">Data Playground</a></h4>
                            <p class="description" style="text-align: justify;">Sign up with IBIS to gain access to the IBIS Data Playground! Here, you can explore a 
range of interactive data— view ecological, physical, and environmental layers, 
visualisations of species distribution, location-based geo-visualisations, and 
broad-scale patterns of ecological factors using observational data from citizen 
scientists and garnered from other biodiversity portals.</p>
                        </div>
                    </div>

                    <div class="col-lg-4 col-md-6" data-wow-delay="0.1s">
                        <div class="icon-box">
                            <div class="icon"><i class="bi bi-chat-text" style="color: #3fcdc7;"></i></div>
                            <h4 class="title"><a href="<?= site_url('Experts');?>">Consortium of Experts</a></h4>
                            <p class="description" style="text-align: justify;">IBIS members gain access to our Consortium of Experts, a panel of specialists, 
including naturalists, botanists, zoologists, hydrologists, conservationists, and 
ecologists. You can direct your requests such as species ID help or call recording 
review to our panel. The consortium also reviews, authenticates, and analyses data 
that citizen scientists contribute to IBIS.</p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6" data-wow-delay="0.1s">
                        <div class="icon-box">
                            <div class="icon"><i class="bi bi-credit-card-2-front" style="color:#41cf2e;"></i></div>
                            <h4 class="title"><a href="<?= site_url('Forum');?>">Forums and Blogs</a></h4>
                            <p class="description" style="text-align: justify;">Science belongs to everyone. Beyond just contributing data, IBIS encourages our 
citizen scientists to also engage with the larger community of contributors and 
researchers. IBIS promotes meaningful dialogues about biodiversity and conservation 
efforts. Our blog presents relevant articles by experts and synopses of latest research 
papers. These forums encourage public participation in science.</p>
                        </div>
                    </div>

                    <div class="col-lg-4 col-md-6" data-wow-delay="0.2s">
                        <div class="icon-box">
                            <div class="icon"><i class="bi bi-globe" style="color: #d6ff22;"></i></div>
                            <h4 class="title"><a href="https://sdm.indiaobservatory.org.in">SDM</a></h4>
                            <p class="description" style="text-align: justify;">Species Distributions Models (SDM) corelate the presence or absence records of 
species to relevant environmental factors. IBIS members can access Maximum Entropy 
(MaxEnt) models that project relationships by overlaying environmental data layers 
across locations. The resultant maps indicate a species’ environmental suitability, thus 
indicating abundance of the species or lack thereof.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section><!-- End Services Section -->
<style>
.map {
    width: 100%;
    height: 100%;
    }
</style>        
        <section id="reach">
            <div class="container-fluid">
                <div class="section-title">
                    <h2>Our Collaborative Reach</h2>
                </div>
                <div class="row">
        <div class="col-md-3" style="position: absolute;margin-top: 24px;z-index: -1;padding-left:2%;" >
          <div class="reach-box card" id="r1" style="display:none;text-align: justify-all;">
            <h3 id="MammaliaD" class="card-body" style="font-size:2.5rem;color: #004950;"></h3>            
            <div class="card-body"><b><span style="font-size: 15px;color: black;" id="MammaliaDD1"></span></b><br><b><span style="font-size: 15px;color: black;" id="MammaliaDD2"></span></b></div>
        </div>
        <div class="reach-box" id="r11" style="display:none;">
            <div class="cv-spinner">
    <span class="spinner"></span>
  </div>
        </div>
       </div>
       <div class="col-md-8" style="position: absolute;z-index:-1;text-align: right;padding-left: 50%;">
          <div class="reach-box">
            <h2 id="StatD" class="card-body">
</h2>
        </div>
       </div>
      <div class="col-md-12" style="position: absolute;margin-top: 24px;z-index: -1;padding-left:60%">
          <div class="reach-box card col-md-7" id="r2" style="display:none;text-align:right;float: right;">
            <h5 id="AmphibiaD" class="card-body" style="font-size:2.5rem;float: right;color: #004950;"></h5>  
            <div class="card-body"><b><span style="font-size: 15px;color: black;" id="AmphibiaDD1"></span></b><br><b><span style="font-size: 15px;color: black;" id="AmphibiaDD2"></span></b></div>
        </div>
        <div class="reach-box" id="r22" style="display:none;">
            <div class="cv-spinner">
    <span class="spinner"></span>
  </div>
        </div>
       </div>
       <div class="col-md-3" style="position: absolute;margin-top:515px;z-index: -1;padding-left:2%">
          <div class="reach-box card" id="r3" style="display:none;text-align: justify-all;">
            <h5 id="AvesD" class="card-body" style="font-size:2.5rem;color: #004950;"></h5>            
            <div class="card-body"><b><span style="font-size: 15px;color: black;" id="AvesDD1"></span></b><br><b><span style="font-size: 15px;color: black;" id="AvesDD2"></span></b></div>
        </div>
        <div class="reach-box" id="r33" style="display:none;">
            <div class="cv-spinner">
    <span class="spinner"></span>
  </div>
        </div>
       </div>
      <div class="col-md-12 content__block" style="position: absolute;margin-top:515px;z-index:-1;padding-left:60%">
          <div class="reach-box card col-md-7" id="r4" style="display:none;text-align:right;float: right;">
            <h5 id="ReptiliaD" class="card-body" style="font-size:2.5rem;float: right;color: #004950;"></h5>            
            <div class="card-body"><b><span style="font-size: 15px;color: black;" id="ReptiliaDD1"></span></b><br><b><span style="font-size: 15px;color:black;" id="ReptiliaDD2"></span></b></div>
        </div>
        <div class="reach-box" id="r44" style="display:none;">
            <div class="cv-spinner">
    <span class="spinner"></span>
  </div>
        </div>
       </div>
                  <div class="col-md-12">  
                    <div class="cv-spinner" style="display:none;" id="mpDD">
    <span class="spinner"></span>
  </div>
                        <div id="map" class="map"></div>
        <div id="userProfileStatistics"></div>
                  </div>
                </div>
            </div>
        </section>
        <!-- ======= Clients Section ======= -->
        <section id="clients" class="clients">
            <div class="container">
                <div class="section-title">
                    <h2>Collaborators & Funding Partners</h2>
                </div>
                <div class="row" style="padding-left:42%;">

                    <div class="col-lg-3 col-md-4">
                        <div class="client-logo" style="position:relative;">
                            <img src="<?= IMAGE_URL?>/DMLogo.png" class="img-fluid" alt="client" style="height: 100%;">
                        </div>
                    </div>
                </div>

            </div>
        </section><!-- End Clients Section -->
</main><!-- End #main -->
<?php $this->load->view('common/footer'); ?> 
<script src="<?= base_url('assets/js/purecounter_vanilla.js');?>"></script>
<script>new PureCounter();</script>
<script type="text/javascript">
    var geojsonObject = '';
	const baseMapURL = "https://sdmmap.indiaobservatory.org.in/geoserver/SDM_IBISv2/wms?";
    const getStatesURL = '<?= site_url();?>/Apis/getLandingPageStatesBoundary';
    const getStateStatisticsURL = '<?= site_url();?>/Apis/getStateStatistics';
    let select = null;
	let selected = null;
	function selectStyle(feature) {
		const color = feature.get('COLOR') || '#eeeeee';
		const _selected = new ol.style.Style({
			fill: new ol.style.Fill({
			  color: 'rgba(0, 255, 0, 0.7)',
			}),
			stroke: new ol.style.Stroke({
			  color: 'rgba(0, 255, 0, 0.7)',
			  width: 2,
			}),
		});
		_selected.getFill().setColor(color);
		return _selected;
	}
	const hoverStyle = new ol.style.Style({
		fill: new ol.style.Fill({
			color: 'rgba(255, 255, 255, 0.7)',
		}),
		stroke: new ol.style.Stroke({
			color: 'rgba(255, 255, 255, 0.7)',
			width: 2,
		}),
	});
	
	const changeInteraction = function () {
		if (select !== null) {
		  map.removeInteraction(select);
		}
		const selectSingleClick = new ol.interaction.Select({style: selectStyle});
		select = selectSingleClick;
		if (select !== null) {
		  map.addInteraction(selectSingleClick);
		}
	};
	
	$(document).ready(function() {
		var attribution = new ol.control.Attribution({
                collapsible: false
            });
            mapview = new ol.View({
                center: ol.proj.fromLonLat([81.0095998, 22.3052918]),
                maxZoom: 18,
                zoom: 4.9,
				showFullExtent:true
            });
            const cartoDBlightAll = new ol.layer.Tile({
                source: new ol.source.OSM({
                    url: "http://{1-4}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png"
                }),
                visible: false,
                title: 'cartoDBlightAll'
            });
            map = new ol.Map({
                controls: [],
                interactions: ol.interaction.defaults({
                    doubleClickZoom: false,
                    dragAndDrop: false,
                    dragPan: false,
                    keyboardPan: false,
                    keyboardZoom: false,
                    mouseWheelZoom: false,
                    pointer: true,
                    select: true
                }),
                layers: [],
                target: 'map',
                view: mapview
            });
            map.on("click", function(e) {
                map.forEachFeatureAtPixel(e.pixel, function (feature, layer) {
                    $("#StatD").empty();
                    $("#StatD").append(feature.get('name'));
                    console.log(feature.get('name'));
                    getStateStatistics(feature.get('name'));
                })
            });
			
			//baseLayer = new OpenLayers.Layer.WMS("indiaDEM", baseMapURL, {layers: 'data:indiaDEM', transparent:"true"}, {isBaseLayer:false} );
				
			baseLayer = new ol.layer.Image({
				//extent: [4446154.79513079, 277676.90675255144, 13638166.068592947, 4876128.528388755],
				source: new ol.source.ImageWMS({
					url: baseMapURL,
					params: {'LAYERS': 'SDM_IBISv2:dem'},
					serverType: 'geoserver',
					transition: 0
				}),
			})
				
			map.addLayer(baseLayer);
			
			//map.getView().fit([4446154.79513079, 277676.90675255144, 13638166.068592947, 4876128.528388755] , map.getSize());
			
			map.on('pointermove', function (e) {
				if (selected !== null) {
					selected.setStyle(undefined);
					selected = null;
				}

				map.forEachFeatureAtPixel(e.pixel, function (feature) {
					selected = feature;
					hoverStyle.getFill().setColor(feature.get('COLOR') || '#eeeeee');
					feature.setStyle(hoverStyle);
					return true;
				});
			});

			changeInteraction();
            getStatesDD();
	});
const getStatesDD = () => {
    $("#mpDD").show();
            fetch(getStatesURL,
            {
                method: "GET",
                headers: {
                    "Content-Type": "application/json"
                },
            })
            .then(function(res) { return res.json(); })
            .then(function(data) {
                $("#mpDD").hide();
                geojsonObject = {
                    'type': 'FeatureCollection',
                    'crs': {
                    'type': 'name',
                    'properties': {
                        'name': 'EPSG:3857',
                    },
                    },
                    'features': []
                }
                data.data.forEach((item) => {
                    var geometry = JSON.parse(item.sp_geometry);
                    var name = item.sp_state_name;
                    console.log("Style: " + geometry.type);
                    geojsonObject.features.push({
                        'type': 'Feature',
                        'geometry': geometry,
                        'properties': {name}
                    });

                    const vectorSource = new ol.source.Vector({
                        features: new ol.format.GeoJSON().readFeatures(geojsonObject)
                    }); 
                
                    const vectorLayer = new ol.layer.Vector({
                        source: vectorSource,
                        name: 'landingPageLayer',
                        style: new ol.style.Style({
                            stroke: new ol.style.Stroke({
                                color: 'white',
                                width: 1,
                            }),
                            fill: new ol.style.Fill({
                            color: 'rgba(3, 145, 255, 0.2)',
                            }),
                        })
                    });
                    map.getLayers().forEach(function (layer) {
                        if(layer.get('name') == "landingPageLayer") {
                            map.removeLayer(layer);
                        }
                    });
                    map.addLayer(vectorLayer);
                    //map.getView().fit(vectorSource.getExtent());
                })                
            })
        }
        
        const getStateStatistics = (name) => {
            var data = {
                name
            }
             $("#r11").show();
            $("#r22").show();
            $("#r33").show();
            $("#r44").show();
            $("#r1").hide();
            $("#r2").hide();
            $("#r3").hide();
            $("#r4").hide();
            fetch(getStateStatisticsURL,
            {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(data)
            })
            .then(function(res) { return res.json(); })
            .then(function(data) {
                data = JSON.parse(JSON.stringify(data));
                var MamArr = data.data.filter(x=> x.sp_class == 'Mammalia');
                if(MamArr.length!=0)
                {
                    $("#r1").show();
                    $("#r11").hide();
                    $("#MammaliaD").empty();
                    $("#MammaliaDD1").empty();
                    $("#MammaliaDD2").empty();
                    $("#MammaliaD").append(MamArr[0].sp_class);
                    console.log(MamArr[0].sp_class);
                    MamArr.forEach((x)=>{
                       // $("#MammaliaDD").append(x.sp_taxon_rank+':', '&nbsp;'+x.sp_count+'&nbsp;&nbsp;');
                    if(x.sp_taxon_rank=='Species')
                    {
                     $("#MammaliaDD1").append(x.sp_taxon_rank+':', '&nbsp;'+x.sp_count+'&nbsp;&nbsp;');
                    }
                    if(x.sp_taxon_rank=='Subspecies')
                    {
                     $("#MammaliaDD2").append(x.sp_taxon_rank+':', '&nbsp;'+x.sp_count+'&nbsp;&nbsp;');
                    }
                        console.log(x.sp_taxon_rank, x.sp_count)
                    });
                }
                else {
                    $("#r1").show();
                    $("#r11").hide(); 
                    $("#MammaliaD").empty();
                    $("#MammaliaDD1").empty();
                    $("#MammaliaDD2").empty();
                    $("#MammaliaD").append('Mammalia');
                    $("#MammaliaDD1").append('species:0');
                    $("#MammaliaDD2").append('subspecies:0');
                }
                var AmphibiaArr = data.data.filter(y=> y.sp_class == 'Amphibia');
                if(AmphibiaArr.length!=0)
                {  
                    $("#r2").show();
                    $("#r22").hide();
                    $("#AmphibiaD").empty();
                    $("#AmphibiaDD1").empty();
                    $("#AmphibiaDD2").empty();
                    $("#AmphibiaD").append(AmphibiaArr[0].sp_class);              
                console.log(AmphibiaArr[0].sp_class);
                AmphibiaArr.forEach((y)=>{
                    if(y.sp_taxon_rank=='Species')
                    {
                     $("#AmphibiaDD1").append(y.sp_taxon_rank+':', '&nbsp;'+y.sp_count+'&nbsp;&nbsp;');
                    }
                    if(y.sp_taxon_rank=='Subspecies')
                    {
                     $("#AmphibiaDD2").append(y.sp_taxon_rank+':', '&nbsp;'+y.sp_count+'&nbsp;&nbsp;');
                    }
                    console.log(y.sp_taxon_rank, y.sp_count)
                    });
                }
                else {
                    $("#r2").show();
                    $("#r22").hide(); 
                    $("#AmphibiaD").empty();
                    $("#AmphibiaDD1").empty();
                    $("#AmphibiaDD2").empty();
                    $("#AmphibiaD").append('Amphibia');
                    $("#AmphibiaDD1").append('species:0');
                    $("#AmphibiaDD2").append('subspecies:0');
                }
                var avesArr = data.data.filter(z=> z.sp_class == 'Aves');
                if(avesArr.length!=0)
                {
                    $("#r3").show();
                    $("#r33").hide();
                    $("#AvesD").empty();
                    $("#AvesDD1").empty();
                    $("#AvesDD2").empty();
                    $("#AvesD").append(avesArr[0].sp_class);
                console.log(avesArr[0].sp_class);
                avesArr.forEach((z)=>{
                   // $("#AvesDD").append(z.sp_taxon_rank+':', '&nbsp;'+z.sp_count+'&nbsp;&nbsp;');
                   if(z.sp_taxon_rank=='Species')
                    {
                     $("#AvesDD1").append(z.sp_taxon_rank+':', '&nbsp;'+z.sp_count+'&nbsp;&nbsp;');
                    }
                    if(z.sp_taxon_rank=='Subspecies')
                    {
                     $("#AvesDD2").append(z.sp_taxon_rank+':', '&nbsp;'+z.sp_count+'&nbsp;&nbsp;');
                    }
                    console.log(z.sp_taxon_rank, z.sp_count)
                });
            }
             else {
                    $("#r2").show();
                    $("#r22").hide(); 
                    $("#AvesD").empty();
                    $("#AvesDD1").empty();
                    $("#AvesDD2").empty();
                    $("#AvesD").append('Aves');
                    $("#AvesDD1").append('species:0');
                    $("#AvesDD2").append('subspecies:0');
                }
                var ReptiliaArr = data.data.filter(p=> p.sp_class == 'Reptilia');
                if(ReptiliaArr.length!=0)
                {
                    $("#r4").show();
                    $("#r44").hide();
                    $("#ReptiliaD").empty();
                    $("#ReptiliaDD1").empty();
                    $("#ReptiliaDD2").empty();
                    $("#ReptiliaD").append(ReptiliaArr[0].sp_class);
                console.log(ReptiliaArr[0].sp_class);
                ReptiliaArr.forEach((p)=>{
                    if(p.sp_taxon_rank=='Species')
                    {
                     $("#ReptiliaDD1").append(p.sp_taxon_rank+':', '&nbsp;'+p.sp_count+'&nbsp;&nbsp;');
                    }
                    if(p.sp_taxon_rank=='Subspecies')
                    {
                     $("#ReptiliaDD2").append(p.sp_taxon_rank+':', '&nbsp;'+p.sp_count+'&nbsp;&nbsp;');
                    }
                    //$("#ReptiliaDD").append(p.sp_taxon_rank+':', '&nbsp;'+p.sp_count+'&nbsp;&nbsp;');
                    console.log(p.sp_taxon_rank, p.sp_count)
                });    
                }
                 else {
                    $("#r4").show();
                    $("#r44").hide(); 
                    $("#ReptiliaD").empty();
                    $("#ReptiliaDD1").empty();
                    $("#ReptiliaDD2").empty();
                    $("#ReptiliaD").append('Reptilia');
                    $("#ReptiliaDD1").append('species:0');
                    $("#ReptiliaDD2").append('subspecies:0');
                }               
            });
        }    
</script>